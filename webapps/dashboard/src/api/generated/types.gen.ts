// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
    baseUrl: 'http://localhost:9090' | (string & {});
};

/**
 * Body content based on content type
 */
export type BodyContent = {
    type: 'Json';
    /**
     * JSON body (parsed)
     */
    value: unknown;
} | {
    type: 'Text';
    /**
     * Text body
     */
    value: string;
} | {
    type: 'Binary';
    /**
     * Binary body (not stored, only metadata)
     */
    value: {
        size: number;
    };
};

/**
 * Body data with content type information
 */
export type BodyData = {
    /**
     * Content-Type header value
     */
    content_type: string;
    /**
     * Parsed data (only for JSON/text)
     */
    data: BodyContent;
    /**
     * Size in bytes
     */
    size: number;
};

/**
 * Duration percentiles
 */
export type DurationPercentiles = {
    max: number;
    min: number;
    p50: number;
    p90: number;
    p95: number;
    p99: number;
    p999: number;
};

/**
 * HTTP request metrics entry
 */
export type HttpMetric = {
    /**
     * Duration in milliseconds
     */
    duration_ms?: number | null;
    /**
     * Error message if request failed
     */
    error?: string | null;
    /**
     * Unique ID for this request
     */
    id: string;
    /**
     * Request method (GET, POST, etc.)
     */
    method: string;
    request_body?: null | BodyData;
    /**
     * Request headers
     */
    request_headers: Array<[
        string,
        string
    ]>;
    response_body?: null | BodyData;
    /**
     * Response headers
     */
    response_headers?: Array<[
        string,
        string
    ]> | null;
    /**
     * Response status code
     */
    response_status?: number | null;
    /**
     * Stream ID from the tunnel (short GUID)
     */
    stream_id: string;
    /**
     * Timestamp when request was received (milliseconds since epoch)
     */
    timestamp: number;
    /**
     * Request URI
     */
    uri: string;
};

/**
 * Metrics statistics summary
 */
export type MetricsStats = {
    avg_duration_ms?: number | null;
    failed_requests: number;
    methods: {
        [key: string]: number;
    };
    percentiles?: null | DurationPercentiles;
    status_codes: {
        [key: string]: number;
    };
    successful_requests: number;
    total_requests: number;
};

/**
 * Replay request structure
 */
export type ReplayRequest = {
    /**
     * Optional request body
     */
    body?: unknown;
    /**
     * HTTP headers as key-value pairs
     */
    headers: Array<[
        string,
        string
    ]>;
    /**
     * HTTP method (GET, POST, PUT, DELETE, PATCH)
     */
    method: string;
    /**
     * Request URI path
     */
    uri: string;
};

/**
 * Replay response structure
 */
export type ReplayResponse = {
    /**
     * Response body content
     */
    body?: string | null;
    /**
     * Error message if request failed
     */
    error?: string | null;
    /**
     * HTTP status code if successful
     */
    status?: number | null;
};

/**
 * TCP connection state
 */
export type TcpConnectionState = 'active' | 'closed' | 'error';

/**
 * TCP connection metrics entry
 */
export type TcpMetric = {
    /**
     * Bytes received from remote
     */
    bytes_received: number;
    /**
     * Bytes sent to remote
     */
    bytes_sent: number;
    /**
     * Timestamp when connection was closed (milliseconds since epoch)
     */
    closed_at?: number | null;
    /**
     * Connection duration in milliseconds (None if still active)
     */
    duration_ms?: number | null;
    /**
     * Error message if connection failed
     */
    error?: string | null;
    /**
     * Unique ID for this connection
     */
    id: string;
    /**
     * Local IP address (usually 127.0.0.1)
     */
    local_addr: string;
    /**
     * Remote IP address that connected
     */
    remote_addr: string;
    /**
     * Connection state (active, closed, error)
     */
    state: TcpConnectionState;
    /**
     * Stream ID from the tunnel (short GUID)
     */
    stream_id: string;
    /**
     * Timestamp when connection was established (milliseconds since epoch)
     */
    timestamp: number;
};

export type HandleApiClearData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/metrics';
};

export type HandleApiClearResponses = {
    /**
     * Metrics cleared successfully
     */
    204: void;
};

export type HandleApiClearResponse = HandleApiClearResponses[keyof HandleApiClearResponses];

export type HandleApiMetricsData = {
    body?: never;
    path?: never;
    query?: {
        /**
         * Offset for pagination (default: 0)
         */
        offset?: number;
        /**
         * Limit for pagination (default: 100)
         */
        limit?: number;
    };
    url: '/api/metrics';
};

export type HandleApiMetricsResponses = {
    /**
     * List of HTTP metrics
     */
    200: Array<HttpMetric>;
};

export type HandleApiMetricsResponse = HandleApiMetricsResponses[keyof HandleApiMetricsResponses];

export type HandleApiStatsData = {
    body?: never;
    path?: never;
    query?: never;
    url: '/api/metrics/stats';
};

export type HandleApiStatsResponses = {
    /**
     * Aggregated metrics statistics
     */
    200: MetricsStats;
};

export type HandleApiStatsResponse = HandleApiStatsResponses[keyof HandleApiStatsResponses];

export type HandleApiMetricByIdData = {
    body?: never;
    path: {
        /**
         * Unique metric identifier
         */
        id: string;
    };
    query?: never;
    url: '/api/metrics/{id}';
};

export type HandleApiMetricByIdErrors = {
    /**
     * Metric not found
     */
    404: unknown;
};

export type HandleApiMetricByIdResponses = {
    /**
     * HTTP metric found
     */
    200: HttpMetric;
};

export type HandleApiMetricByIdResponse = HandleApiMetricByIdResponses[keyof HandleApiMetricByIdResponses];

export type HandleApiReplayData = {
    body: ReplayRequest;
    path?: never;
    query?: never;
    url: '/api/replay';
};

export type HandleApiReplayErrors = {
    /**
     * Invalid request parameters
     */
    400: unknown;
    /**
     * Replay request failed
     */
    502: unknown;
};

export type HandleApiReplayResponses = {
    /**
     * Request replayed successfully
     */
    200: ReplayResponse;
};

export type HandleApiReplayResponse = HandleApiReplayResponses[keyof HandleApiReplayResponses];

export type HandleApiTcpConnectionsData = {
    body?: never;
    path?: never;
    query?: {
        /**
         * Offset for pagination
         */
        offset?: number;
        /**
         * Limit number of results
         */
        limit?: number;
    };
    url: '/api/tcp/connections';
};

export type HandleApiTcpConnectionsResponses = {
    /**
     * List of TCP connections
     */
    200: Array<TcpMetric>;
};

export type HandleApiTcpConnectionsResponse = HandleApiTcpConnectionsResponses[keyof HandleApiTcpConnectionsResponses];

export type HandleApiTcpConnectionByIdData = {
    body?: never;
    path: {
        /**
         * Connection ID
         */
        id: string;
    };
    query?: never;
    url: '/api/tcp/connections/{id}';
};

export type HandleApiTcpConnectionByIdErrors = {
    /**
     * Connection not found
     */
    404: unknown;
};

export type HandleApiTcpConnectionByIdResponses = {
    /**
     * TCP connection details
     */
    200: TcpMetric;
};

export type HandleApiTcpConnectionByIdResponse = HandleApiTcpConnectionByIdResponses[keyof HandleApiTcpConnectionByIdResponses];
